<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Homepage</title>
        <link rel="stylesheet" href="../css/index.css">
    </head>
    <body>
        <h1 id="title">File uploader</h1>
        <% if (loggedIn) { %>
            <div class="logged-in">
                <p id="greeting">Hello <%= user %>! <a href="/logout">Logout</a></p><br>
                <hr />
                <div class="folders-container">
                    <h3>Folders</h3>
                    <% if (folders.length === 0) { %>
                        <p>No folders found</p>
                    <% } else { %>
                        <% folders.forEach(f => { %>
                            <a href="/folder/<%= f.id %>_<%= f.name.toLowerCase().replace(/\s+/g, '_') %>" style="text-decoration: none; color: black;"><button>ğŸ“ <%= f.name %></button></a>
                        <% }) %>
                    <% } %>
                </div>
            </div>
        <% } else { %>
            <div class="not-logged-in">
                <h2>Please log in or create an account</h2>
                <nav class="links">
                    <a href="/signup">Sign up</a><br>
                    <a href="/login">Login</a>
                </nav>
            </div>
        <% } %>
    </body>
</html>